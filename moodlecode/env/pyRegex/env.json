{
	"name": "Python Regex",
	"action": {
		"grade": {
			"type": "docker",
			"image": "mcl-py",
			"copy": "*",
			"copyTo": "/tmp/mclrun",
			"outputProcess": {
				"function": "regexCompare",
				"params": {
					"model": "expected.output.value",
					"response": "_output.output"
				}
			},
			"testCases": {
				"method": "lowest"
			},
			"commands": [{
				"cmd": "cat %input.output.name | timeout 3 python %answer.output.name 2>&1",
				"output": ["log", "output"]
			}]
		},
		"test": {
			"type": "docker",
			"image": "mcl-py",
			"copy": "*",
			"copyTo": "/tmp/mclrun",
			"commands": [{
				"cmd": "cat %testinput.output.name | python %answer.output.name 2>&1",
				"output": ["feedback"]
			}]
		}
	},
	"options": [{
		"type": "textarea",
		"id": "input",
		"name": "Program input",
		"encode": "base64",
		"output": {
			"type": "file",
			"name": "input.txt"
		}
	}, {
		"type": "regexlist",
		"id": "expected",
		"name": "Grades",
		"encode": "base64",
		"output": {
			"type": "json",
			"name": "regex.json"
		}
	}],
	"inputs": [{
		"type": "editor",
		"id": "answer",
		"default": "",
		"encode": "base64",
		"lang": "python",
		"name": "Answer",
		"output": {
			"type": "file",
			"name": "answer.py",
			"defaultName": "answer.py"
		}
	}, {
		"type": "editor",
		"id": "testinput",
		"name": "Test input",
		"default": "",
		"encode": "base64",
		"lang": "plain",
		"output": {
			"type": "file",
			"name": "Input"
		}
	}],
	"validation": [{
		"id": "answer.output.name",
		"type": "replace",
		"exp": "/[^A-Za-z0-9.]/",
		"replace": ""
	}]
}
